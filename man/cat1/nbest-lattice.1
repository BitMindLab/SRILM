


nbest-lattice(1)                                 nbest-lattice(1)


NNAAMMEE
       nbest-lattice - rescore N-best lists and lattices

SSYYNNOOPPSSIISS
       nnbbeesstt--llaattttiiccee [--hheellpp] option ...

DDEESSCCRRIIPPTTIIOONN
       nnbbeesstt--llaattttiiccee  rescores  N-best  lists  or optimizes word-
       level recognition scores  (as  opposed  to  sentence-level
       scores).   There  are two rescoring modes.  In _N_-_b_e_s_t _w_o_r_d
       _e_r_r_o_r _m_i_n_i_m_i_z_a_t_i_o_n mode, the program computes  the  poste-
       rior  expected  word error for each hypothesis relative to
       all hypotheses in the N-best list, choosing the  one  with
       the lowest value.

       In  _l_a_t_t_i_c_e _w_o_r_d _e_r_r_o_r _m_i_n_i_m_i_z_a_t_i_o_n mode, the program con-
       structs a word lattice from all the N-best hypotheses  and
       extracts  the  path  with  the lowest expected word error.
       This is similar to  N-best  word  error  minimization  but
       allows  hypotheses  not  contained  in the N-best list.  A
       variant of this mode uses a word  ``mesh''  instead  of  a
       word  lattice,  in which all hypotheses are aligned into a
       grid of word positions, and one is allowed to chose a word
       from  each  grid  position,  thus allowing an even greater
       number of potential hypotheses.

       Each filename argument can be an ASCII  file,  or  a  com-
       pressed file (name ending in .Z or .gz), or ``-'' to indi-
       cate stdin/stdout.

OOPPTTIIOONNSS
       --hheellpp  Print option summary.

       --ddeebbuugg _l_e_v_e_l
              Controls the  amount  of  output  (the  higher  the
              _l_e_v_e_l,  the  more).   At level 1, the expected word
              error counts for the chosen hypotheses are printed.
              At  level  2,  the word posterior probabilities are
              printed in addition (only for lattice mode, similar
              to --dduummpp--ppoosstteerriioorrss).

       --wweerr   Chooses N-best word error minimization mode.

       --llaattttiiccee--wweerr
              Chooses  lattice  word error minimization mode (the
              default).

       --uussee--mmeesshh
              Choose the variant of lattice mode that  uses  word
              meshes instead of simple lattices.

       --ddeelleettiioonn--bbiiaass _D
              Causes  the probabilities of deletions to be biased
              by a  factor  _D  in  doing  mesh-based  word  error



SRILM Tools        $Date: 2000/06/12 06:29:04 $                 1





nbest-lattice(1)                                 nbest-lattice(1)


              minimization.   This controls the trade-off between
              insertion and deletion errors.  The  default  is  1
              (no bias).

       --rreessccoorree _f_i_l_e
              Reads  the  N-best list from _f_i_l_e.  The N-best list
              can be in any of the formats  described  in  nnbbeesstt--
              ffoorrmmaatt(5).

       --nnbbeesstt _f_i_l_e
              A synonym for --rreessccoorree.

       --wwrriittee--nnbbeesstt _f_i_l_e
              Outputs  the  N-best  list to a file, after sorting
              and processing (for validation purposes).

       --nnbbeesstt--ffiilleess _f_i_l_e_-_l_i_s_t
              Rescores multiple N-best lists whose filenames  are
              read from _f_i_l_e_-_l_i_s_t.

       --mmaaxx--nnbbeesstt _n
              Limits  the  number of hypotheses read from each N-
              best list to the first _n.

       --mmaaxx--rreessccoorree _m
              Only choose among the top _m hypotheses  when  opti-
              mizing  word  error.   This  is convenient to limit
              computation for long N-best lists.  The  cutoff  is
              made after reading all hypotheses (subject to --mmaaxx--
              nnbbeesstt) and reordering them according to the  poste-
              rior probabilities.
              The worst-case time taken in N-best error minimiza-
              tion is proportional to _m times _n, where _n  is  the
              length  of  the  N-best list (or the value given to
              --mmaaxx--nnbbeesstt).  However, in practice the average time
              per sentence is independent of _m, so this option is
              usually not necessary.

       --ppoosstteerriioorr--pprruunnee _t_h_r_e_s_h_o_l_d
              Don't process N-best  hypotheses  whose  cumulative
              posterior  probability is below _t_h_r_e_s_h_o_l_d.  This is
              another strategy to speed up the algorithm.

       --nnoo--rreeoorrddeerr
              Process N-best hypotheses in  the  order  in  which
              they  appear.   By  default,  hypotheses  are first
              sorted by their aggregate scores.

       --rreessccoorree--llmmww _l_m_w
              Sets the language model weight  used  in  combining
              the  language model log probabilities with acoustic
              log probabilities (only relevant if separate scores
              are given in the N-best input).




SRILM Tools        $Date: 2000/06/12 06:29:04 $                 2





nbest-lattice(1)                                 nbest-lattice(1)


       --rreessccoorree--wwttww _w_t_w
              Sets  the word transition weight used to weight the
              number of words relative to the acoustic log proba-
              bilities  (only  relevant  if  separate  scores are
              given in the N-best input).

       --ppoosstteerriioorr--ssccaallee _s_c_a_l_e
              Divide the total weighted log score by  _s_c_a_l_e  when
              computing normalized posterior probabilities.  This
              controls the peakedness of the posterior  distribu-
              tion.  The default value is whatever was chosen for
              --rreessccoorree--llmmww, so that  language  model  scores  are
              scaled  to  have weight 1, and acoustic scores have
              weight 1/_l_m_w.

       --ppoosstteerriioorr--aammww _a_m_w
              Sets the acoustic model weight for computing poste-
              riors;  the  default  is  1.  This and the next two
              options allow posteriors to  be  computed  using  a
              different  weighting  than that used in ranking and
              reordering the hypotheses.

       --ppoosstteerriioorr--llmmww _l_m_w
              Sets the language model weight for computing poste-
              riors.   The  default is to use whatever was speci-
              fied for --rreessccoorree--llmmww.

       --ppoosstteerriioorr--wwttww _w_t_w
              Sets the word transition weight for computing  pos-
              teriors.  The default is to use whatever was speci-
              fied for --rreessccoorree--wwttww.

       --vvooccaabb _f_i_l_e
              Read the N-best list vocabulary  from  _f_i_l_e.   This
              option is mostly redundant since words found in the
              N-best input are implicitly added  to  the  vocabu-
              lary.

       --ttoolloowweerr
              Map  vocabulary to lowercase, eliminating case dis-
              tinctions.

       --mmuullttiiwwoorrddss
              Split multiwords (words joined by '_')  into  their
              components when reading N-best lists.

       --nnooiissee _n_o_i_s_e_-_t_a_g
              Designate _n_o_i_s_e_-_t_a_g as a vocabulary item that is to
              be ignored in aligning hypotheses with  each  other
              (the  same  as  the -pau- word).  This is typically
              used to identify a noise marker.

       --nnooiissee--vvooccaabb _f_i_l_e
              Read several noise tags from _f_i_l_e, instead  of,  or



SRILM Tools        $Date: 2000/06/12 06:29:04 $                 3





nbest-lattice(1)                                 nbest-lattice(1)


              in  addition  to, the single noise tag specified by
              --nnooiissee.

       --nnbbeesstt--eerrrroorrss _r_e_f_e_r_e_n_c_e_s
              Compute the N-best error (minimum  word  error)  of
              the  N-best  list  read with --nnbbeesstt.  Error is com-
              puted relative to all the hypotheses contained in a
              separate  N-best  list  given by _r_e_f_e_r_e_n_c_e_s.  Pause
              and noise tokens (as specified with --nnooiissee) in  the
              N-best list are ignored.

       --dduummpp--ppoosstteerriioorrss
              Output   posterior   probabilities  of  all  N-best
              hypotheses instead of choosing the best hypothesis.
              In  N-best mode, only the posterior probability for
              each hypothesis is output.  In  lattice  mode,  the
              hyp  posterior is followed by word posterior proba-
              bilities for each (non-pause, non-noise)  token  in
              the hypothesis.  The --mmaaxx--rreessccoorree option limits the
              number of hypotheses per N-best list processed.

       --dduummpp--eerrrroorrss
              Output word correctness indicators for  all  N-best
              hypotheses instead of choosing the best hypothesis.
              For each hypothesis, a line  is  output  containing
              first  the  total  number of errors and the list of
              indicators of whether  the  corresponding  word  is
              correct,  substituted  or  inserted relative to the
              reference string.  The location of deleted words is
              also  indicated  by  a  corresponding  marker.  The
              --mmaaxx--rreessccoorree option limits the number of hypotheses
              per N-best list processed.

       --rreeffeerreennccee _w_1 _w_2 _._._.
              Specifies a reference word string for --dduummpp--eerrrroorrss.

       The following options only affect lattice mode.

       --rreeaadd _f_i_l_e
              Reads an initial lattice from _f_i_l_e,  to  be  merged
              with  additional  paths constructed from the N-best
              hypotheses.

       --wwrriittee _f_i_l_e
              Writes the resulting N-best lattice to _f_i_l_e.

       --pprriimmee--llaattttiiccee
              Start building the lattice with the best hypothesis
              obtained from N-best error minimization.  This pro-
              duces  slightly  better  alignments  and  sometimes
              lower  error  rates.   The default is to start with
              the top-scoring hypothesis.





SRILM Tools        $Date: 2000/06/12 06:29:04 $                 4





nbest-lattice(1)                                 nbest-lattice(1)


       --pprriimmee--wwiitthh--11bbeesstt
              Similar to --pprriimmee--llaattttiiccee, but uses the  top-ranked
              sentence hypothesis for priming.  (Experience shows
              that   --nnoo--rreeoorrddeerr   --pprriimmee--llaattttiiccee   gives    best
              results.)

       --nnoo--mmeerrggee
              Build  a lattice from the N-best hypotheses without
              merging  edges  (string/lattice  alignment).   This
              creates  a  lattice  with  one  disjoint  path  per
              hypothesis, and is useful mainly for debugging pur-
              poses.

       --llaattttiiccee--eerrrroorrss _r_e_f_e_r_e_n_c_e_s
              Compute  the  lattice error (minimum word error) of
              the lattice read with --rreeaadd or built  with  --nnbbeesstt.
              Error  is  computed  relative to all the hypotheses
              contained in a separate N-best list given by _r_e_f_e_r_-
              _e_n_c_e_s.

SSEEEE AALLSSOO
       ngram(1), nbest-sripts(1), nbest-format(5).
       A.  Stolcke,  Y.  Konig, and M. Weintraub, ``Explicit Word
       Error  Minimization  in  N-best  List  Rescoring,''  _P_r_o_c_.
       _E_u_r_o_s_p_e_e_c_h,  163-166, 1997.  The ``word meshes'' used here
       are equivalent to the ``confusion networks'' described in:
       L.  Mangu,  E.  Brill, and A. Stolcke, ``Finding Consensus
       Among  Words:  Lattice-based  Word  Error  Minimization.''
       _P_r_o_c_. _E_u_r_o_s_p_e_e_c_h, vol. 1, 495-498, 1999.

BBUUGGSS
       Only  a  subset  of functions is available when processing
       multiple N-best lists.
       The options for word and lattice error computation are not
       consistent:  --dduummpp--eerrrroorrss  takes the reference on the com-
       mand line, whereas --llaattttiiccee--eerrrroorrss and --nnbbeesstt--eerrrroorrss use a
       separate N-best list.

AAUUTTHHOORR
       Andreas Stolcke <stolcke@speech.sri.com>.
       Copyright 1996-2000 SRI International
















SRILM Tools        $Date: 2000/06/12 06:29:04 $                 5


